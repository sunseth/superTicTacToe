<html>
  <head>
    <title>Super Tic-Tac-Toe</title>
    <link type="text/css" rel="stylesheet" href="static/super.css"/>
    <script type="text/javascript" src="APATH_JS.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            var squares = [[false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false]];
            var bigSquares = [false, false, false, false, false, false, false, false, false];
            function squareDone(squarePos){
                console.log(squares[0][0]);
                var squareArray = squares[squarePos];

                for (var i = 0; i < 3; i++) {
                    var pos = i * 3;
                    if (squareArray[pos] && squareArray[pos + 1] && squareArray[pos + 2]){
                        return true;
                        bigSquares[squarePos] = true;
                    }
                };

                for (var i = 0; i < 3; i++) {
                    if (squareArray[i] && squareArray[i + 3] && squareArray[i + 6]){
                        return true;
                        bigSquares[squarePos] = true;
                    }
                };

                if (squareArray[0] && squareArray[4] && squareArray[8]){
                    return true;
                    bigSquares[squarePos] = true;
                }
                if (squareArray[2] && squareArray[4] && squareArray[6]){
                    return true;
                    bigSquares[squarePos] = true;
                }
                return false;
            }
            function gameOver(){
                for (var i = 0; i < 3; i++) {
                    var pos = i * 3;
                    if (bigSquares[pos] && bigSquares[pos + 1] && bigSquares[pos + 2]){
                        return true;
                    }
                };
                for (var i = 0; i < 3; i++) {
                    if (bigSquares[i] && bigSquares[i + 3] && bigSquares[i + 6]){
                        return true;
                    }
                };
                if (bigSquares[0] && bigSquares[4] && bigSquares[8]){
                    return true;
                }
                if (bigSquares[2] && bigSquares[4] && bigSquares[6]){
                    return true;
                }
                return false;
            }
            var player = 1;
            $('.square').click(function(){
                var squareID = $(this).attr('id');
                var largeSquarePos = squareID.substring(0, 1);
                var smallSquarePos = squareID.substring(1);
                console.log(largeSquarePos);
                console.log(smallSquarePos);
                if (!squares[largeSquarePos - 1][smallSquarePos]){
                    squares[largeSquarePos - 1][smallSquarePos] = true;

                    if (player == 0){
                        $(this).css("background-color", "orange");
                        $(this).css("border", "3px solid #FF00FF");
                        player = 1 - player;
                    }
                    else{
                        $(this).css("background-color", "#00FFFF");
                        $(this).css("border", "3px solid yellow");
                        player = 1 - player;
                    }
                    var innerSquare = $(this).parent().parent();
                    if (squareDone(largeSquarePos - 1)){
                        
                        innerSquare.css("background-color", "black");
                        innerSquare.children().css("border", "black");
                        innerSquare.css("top", "-10px");
                    }
                    if (gameOver()){
                        var whole = innerSquare.parent().parent();
                        whole.css("background-color", "black");
                    }
                }
                
            });
        });

    </script>
  </head>
  <body>
    <div id = "outerBoard">
        <div id = "outerContainer1" class = "outerBoardContainer">
            <div id = "innerBoard1" class = "inner">
                    <div class = "innerBoardContainer">

                        <div id = "10" class = "square"></div>
                        <div id = "11" class = "square"></div>
                        <div id = "12" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "13" class = "square"></div>
                        <div id = "14" class = "square"></div>
                        <div id = "15" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "16" class = "square"></div>
                        <div id = "17" class = "square"></div>
                        <div id = "18" class = "square"></div>
                    </div>
                </div>
            <div id = "innerBoard2" class = "inner">
                    <div class = "innerBoardContainer">
                            <div id = "20" class = "square"></div>
                            <div id = "21" class = "square"></div>
                            <div id = "22" class = "square"></div>
                        </div>
                        <div class = "innerBoardContainer">
                            <div id = "23" class = "square"></div>
                            <div id = "24" class = "square"></div>
                            <div id = "25" class = "square"></div>
                        </div>
                        <div class = "innerBoardContainer">
                            <div id = "26" class = "square"></div>
                            <div id = "27" class = "square"></div>
                            <div id = "28" class = "square"></div>
                        </div>
                    </div>
            <div id = "innerBoard3" class = "inner">
                    <div class = "innerBoardContainer">
                        <div id = "30" class = "square"></div>
                        <div id = "31" class = "square"></div>
                        <div id = "32" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "33" class = "square"></div>
                        <div id = "34" class = "square"></div>
                        <div id = "35" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "36" class = "square"></div>
                        <div id = "37" class = "square"></div>
                        <div id = "38" class = "square"></div>
                    </div>
                </div>
        </div>
        <div id = "outerContainer2" class = "outerBoardContainer">
            <div id = "innerBoard4" class = "inner">
                    <div class = "innerBoardContainer">
                        <div id = "40" class = "square"></div>
                        <div id = "41" class = "square"></div>
                        <div id = "42" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "43" class = "square"></div>
                        <div id = "44" class = "square"></div>
                        <div id = "45" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "46" class = "square"></div>
                        <div id = "47" class = "square"></div>
                        <div id = "48" class = "square"></div>
                    </div>
                </div>
            <div id = "innerBoard5" class = "inner">
                    <div class = "innerBoardContainer">
                        <div id = "50" class = "square"></div>
                        <div id = "51" class = "square"></div>
                        <div id = "52" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "53" class = "square"></div>
                        <div id = "54" class = "square"></div>
                        <div id = "55" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "56" class = "square"></div>
                        <div id = "57" class = "square"></div>
                        <div id = "58" class = "square"></div>
                    </div>
                </div>
            <div id = "innerBoard6" class = "inner">
                    <div class = "innerBoardContainer">
                        <div id = "60" class = "square"></div>
                        <div id = "61" class = "square"></div>
                        <div id = "62" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "63" class = "square"></div>
                        <div id = "64" class = "square"></div>
                        <div id = "65" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "66" class = "square"></div>
                        <div id = "67" class = "square"></div>
                        <div id = "68" class = "square"></div>
                    </div>
                </div>
        </div>
        <div id = "outerContainer3" class = "outerBoardContainer">
            <div id = "innerBoard7" class = "inner">
                    <div class = "innerBoardContainer">
                        <div id = "70" class = "square"></div>
                        <div id = "71" class = "square"></div>
                        <div id = "72" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "73" class = "square"></div>
                        <div id = "74" class = "square"></div>
                        <div id = "75" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "76" class = "square"></div>
                        <div id = "77" class = "square"></div>
                        <div id = "78" class = "square"></div>
                    </div>
                </div>
            <div id = "innerBoard8" class = "inner">
                    <div class = "innerBoardContainer">
                        <div id = "80" class = "square"></div>
                        <div id = "81" class = "square"></div>
                        <div id = "82" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "83" class = "square"></div>
                        <div id = "84" class = "square"></div>
                        <div id = "85" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "86" class = "square"></div>
                        <div id = "87" class = "square"></div>
                        <div id = "88" class = "square"></div>
                    </div>
                </div>
            <div id = "innerBoard9" class = "inner">
                    <div class = "innerBoardContainer">
                        <div id = "90" class = "square"></div>
                        <div id = "91" class = "square"></div>
                        <div id = "92" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "93" class = "square"></div>
                        <div id = "94" class = "square"></div>
                        <div id = "95" class = "square"></div>
                    </div>
                    <div class = "innerBoardContainer">
                        <div id = "96" class = "square"></div>
                        <div id = "97" class = "square"></div>
                        <div id = "98" class = "square"></div>
                    </div>
                </div>
        </div>
        
    </div>
  </body>
</html>